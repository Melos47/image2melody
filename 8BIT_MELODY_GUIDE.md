# 8-Bit风格旋律生成指南

## 概述

现在，Image2Melody转换器已升级为支持**RGBA色彩空间**，并生成真正的**8-bit游戏音乐风格**的旋律！

## 🎵 8-Bit音乐特性

### 1. **五声音阶 (Pentatonic Scale)**
- 使用经典的C大调五声音阶：C, D, E, G, A
- 这是8-bit游戏音乐中最常见的音阶
- 提供悦耳、和谐的旋律线条

### 2. **短促节奏**
- 音符时长：1/8拍 到 1/2拍
- 快速、规律的节奏模式
- 典型的8-bit游戏BGM感觉

### 3. **方波音色 (Square Wave)**
- MIDI音色80：Square Lead
- 经典的8-bit音色
- 类似Game Boy、NES游戏机的声音

## 🎨 RGBA到音符的映射

### **R (Red) - 音高基础**
- 范围：0-255
- 映射到五声音阶的8个音符
- 决定旋律的基本音高

### **G (Green) - 时长**
- 范围：0-255
- 映射到4种8-bit典型节奏：
  - 0-63: 1/8拍 (0.125拍)
  - 64-127: 1/4拍 (0.25拍)
  - 128-191: 3/8拍 (0.375拍)
  - 192-255: 1/2拍 (0.5拍)

### **B (Blue) - 八度偏移**
- 范围：0-255
- 映射到-1至+2个八度
- 增加音高的变化范围
- 音域：C2 - C7

### **A (Alpha) - 力度/音量**
- 范围：0-255 (透明度)
- 影响音符的响度
- 透明度越高→音量越小
- 创造动态变化和表现力

## 🎮 使用示例

### 不透明像素（Alpha = 255）
```
RGB(200, 100, 50)
→ 高音符 + 中等时长 + 低八度 + 强音量
```

### 半透明像素（Alpha = 128）
```
RGB(200, 100, 50, 128)
→ 高音符 + 中等时长 + 低八度 + 中等音量
```

### 透明像素（Alpha = 30）
```
RGB(200, 100, 50, 30)
→ 高音符 + 中等时长 + 低八度 + 弱音量
```

## 🎹 实时控制

使用键盘控制音高偏移：

- **W**: +12半音（升高1个八度）
- **S**: -12半音（降低1个八度）
- **A**: -1半音（降低1个音符）
- **D**: +1半音（升高1个音符）
- **SPACE**: 暂停/继续

## 🎼 音乐特点

### 8-Bit风格元素：
1. ✅ **五声音阶** - 经典游戏音乐和声
2. ✅ **短促音符** - 快速、跳跃的节奏
3. ✅ **方波音色** - 复古电子音效
4. ✅ **规律节拍** - 8分音符、4分音符为主
5. ✅ **宽音域** - C2-C7，5个八度范围

### 与传统RGB的区别：
| 特性 | 旧版RGB | 新版RGBA 8-Bit |
|------|---------|----------------|
| 音阶 | 完整大调音阶 | 五声音阶 |
| 时长 | 0.25-2.0拍 | 0.125-0.5拍 |
| 节奏 | 较慢、平滑 | 快速、跳跃 |
| 音量控制 | 仅基于B值 | Alpha通道控制 |
| 风格 | 古典旋律 | 8-bit游戏音乐 |

## 🖼️ 最佳实践

### 适合的图片类型：
1. **像素艺术** - 完美匹配！
2. **卡通图像** - 色彩鲜明，对比强烈
3. **简单图案** - 几何形状，纯色块
4. **游戏截图** - 复古游戏画面
5. **PNG透明图** - 利用Alpha通道创造音量变化

### 创意建议：
- 使用**高对比度**的图片获得更动感的旋律
- **透明度渐变**可以创造音量的渐强渐弱效果
- **像素艺术**会生成最具节奏感的8-bit音乐
- 尝试不同的**像素块大小**（30x30建议）

## 📊 技术参数

- **像素块大小**: 30x30 像素（可调整）
- **音域**: C2 (MIDI 36) - C7 (MIDI 96)
- **力度范围**: 40-127
- **节奏范围**: 100-200ms per note
- **MIDI音色**: 80 (Square Lead)

## 🎯 效果预览

根据图片特性，您会听到：
- 🔴 **红色区域** → 高音旋律线
- 🟢 **绿色区域** → 中速节奏
- 🔵 **蓝色区域** → 八度跳跃
- ⚪ **透明区域** → 音量减弱
- ⚫ **不透明区域** → 音量增强

---

**享受创作8-bit风格音乐的乐趣！** 🎮🎵✨
